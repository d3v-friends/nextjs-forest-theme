"use client";
import { jsx as _jsx, jsxs as _jsxs } from "react/jsx-runtime";
import { concat, useRouterTools } from "nextjs-tools";
import Items from "./items.js";
import { useSearchParams } from "next/navigation";
import strconv from "../../../fn/strconv/index.js";
import Dropdown from "../../input/elem/dropdown/index.js";
const { LinkButton, Prev, Next } = Items;
export default function ({ page, size, total, pageKey = "page", sizeKey = "size", className = "", buttons = 2, }) {
    if (total === 0)
        return null;
    if (size === 0)
        return null;
    const params = useSearchParams();
    const router = useRouterTools();
    const last = Math.floor(total / size) + (0 < total % size ? 1 : 0) - 1;
    const left = [];
    const right = [];
    for (let i = 1; i <= buttons; i++) {
        if (0 <= page - i) {
            left.push(page - i);
        }
        if (page + i <= last) {
            right.push(page + i);
        }
    }
    const items = [...left, page, ...right].sort((a, b) => a - b);
    const hasPrev = items.findIndex((v) => v === 0) === -1;
    const hasNext = items.findIndex((v) => v === last) === -1;
    return (_jsxs("div", { className: concat("flex items-center justify-center", className), children: [_jsxs("div", { className: "hidden grow md:flex md:items-center", children: [_jsx(Dropdown, { items: [
                            { label: "10 개", value: "10" },
                            { label: "30 개", value: "30" },
                            { label: "50 개", value: "50" },
                        ], onChange: (value) => {
                            router.pushBySearchParams({ [sizeKey]: value });
                        }, value: params.get(sizeKey) || "10" }), _jsxs("div", { className: "text-(--info) pl-2", children: ["\uC804\uCCB4 ", strconv.toSplitNumber(total), " \uAC1C"] })] }), _jsx(Prev, { href: getHref(params.toString(), pageKey, page - buttons - 1), activated: hasPrev }), items.map((value, key) => (_jsx(LinkButton, { href: getHref(params.toString(), pageKey, value), activated: value === page, children: value + 1 }, key))), _jsx(Next, { href: getHref(params.toString(), pageKey, page + buttons + 1), activated: hasNext })] }));
}
function getHref(params, key, value) {
    const next = new URLSearchParams(params);
    next.set(key, value.toString());
    return `?${next.toString()}`;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi9zcmMvY29tcC90YWJsZS9wYWdpbmF0aW9uL2luZGV4LnRzeCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxZQUFZLENBQUM7O0FBRWIsT0FBTyxFQUFDLE1BQU0sRUFBRSxjQUFjLEVBQUMsTUFBTSxjQUFjLENBQUM7QUFDcEQsT0FBTyxLQUFLLE1BQU0sU0FBUyxDQUFDO0FBQzVCLE9BQU8sRUFBQyxlQUFlLEVBQUMsTUFBTSxpQkFBaUIsQ0FBQztBQUNoRCxPQUFPLE9BQU8sTUFBTSxxQkFBcUIsQ0FBQztBQUMxQyxPQUFPLFFBQVEsTUFBTSwyQkFBMkIsQ0FBQztBQVlqRCxNQUFNLEVBQUMsVUFBVSxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUMsR0FBRyxLQUFLLENBQUM7QUFFdkMsTUFBTSxDQUFDLE9BQU8sV0FBVyxFQUN4QixJQUFJLEVBQ0osSUFBSSxFQUNKLEtBQUssRUFDTCxPQUFPLEdBQUcsTUFBTSxFQUNoQixPQUFPLEdBQUcsTUFBTSxFQUNoQixTQUFTLEdBQUcsRUFBRSxFQUNkLE9BQU8sR0FBRyxDQUFDLEdBQ007SUFDakIsSUFBSSxLQUFLLEtBQUssQ0FBQztRQUFFLE9BQU8sSUFBSSxDQUFDO0lBQzdCLElBQUksSUFBSSxLQUFLLENBQUM7UUFBRSxPQUFPLElBQUksQ0FBQztJQUU1QixNQUFNLE1BQU0sR0FBRyxlQUFlLEVBQUUsQ0FBQztJQUNqQyxNQUFNLE1BQU0sR0FBRyxjQUFjLEVBQUUsQ0FBQztJQUVoQyxNQUFNLElBQUksR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLEtBQUssR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsR0FBRyxLQUFLLEdBQUcsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQztJQUN2RSxNQUFNLElBQUksR0FBYSxFQUFFLENBQUM7SUFDMUIs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